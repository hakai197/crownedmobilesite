<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crowned Mobile</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
  <style>
    /* =================== */
    /* ORIGINAL HEADER STYLES */
    /* =================== */
    .desktop-nav {
      position: sticky;
      top: 0;
      z-index: 1000;
      background-color: #212529;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      width: 100%;
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0.8rem 1.5rem;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      color: #ffc107;
      font-weight: bold;
      font-size: 1.2rem;
      text-decoration: none;
    }

    .nav-logo {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
      object-fit: cover;
      border: 2px solid #ffc107;
    }

    .desktop-nav .nav-links {
      display: flex;
      gap: 1.5rem;
      margin: 0;
      padding: 0;
      list-style: none;
    }

    .desktop-nav .nav-links a {
      color: #ffc107;
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: color 0.3s;
      padding: 0.5rem 0;
    }

    .desktop-nav .nav-links a:hover {
      color: #fff;
    }

    /* =================== */
    /* COMPACT BODY STYLES */
    /* =================== */
    body {
      overflow-y: hidden;
      height: 100vh;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #2a2a2a;
      background-color: #f8f9fa;
    }
    
    .container {
      padding: 1rem;
      height: calc(100vh - 200px);
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
    }
    
    .header-container {
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(to right, #111, #222);
      padding: 1rem 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      margin-bottom: 1rem;
    }
    
    .header-logo {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      margin-right: 20px;
      object-fit: cover;
      border: 3px solid #ffc107;
    }
    
    .header-title {
      font-family: 'Great Vibes', cursive;
      font-size: 3rem;
      color: #ffc107;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      margin: 0;
    }
    
    .subtitle-container {
      text-align: center;
      margin-bottom: 0.5rem;
    }
    
    .subtitle {
      font-size: 1.4rem;
      font-weight: 600;
      color: #555;
      margin: 0;
    }
    
    .established {
      font-size: 1rem;
      font-style: italic;
      color: #999;
      margin: 0;
    }
    
    .centered-description {
      text-align: center;
      font-size: 1.1rem;
      color: #666;
      margin: 0.5rem auto;
      max-width: 700px;
    }
    
    .contact-info-box {
      background-color: #212529;
      color: #ffc107;
      padding: 0.8rem;
      border-radius: 8px;
      text-align: center;
      margin: 0.5rem auto;
      max-width: 300px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .phone-link {
      color: #ffc107;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
    }
    
    /* =================== */
    /* THREE COLUMN LAYOUT */
    /* =================== */
    .main-content-grid {
      display: grid;
      grid-template-columns: 28% 44% 28%;
      gap: 1.5rem;
      margin-top: 1rem;
      flex-grow: 1;
    }
    
    .content-box {
      background: #fff;
      padding: 1.2rem;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    /* Pricing Section */
    .pricing-section {
      display: flex;
      flex-direction: column;
    }
    
    .pricing-toggle {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.2rem;
    }
    
    .pricing-toggle button {
      background-color: #212529;
      color: #ffc107;
      border: none;
      padding: 0.7rem 1.2rem;
      border-radius: 25px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
      font-size: 0.9rem;
    }
    
    .pricing-toggle button.active,
    .pricing-toggle button:hover {
      background-color: #343a40;
    }
    
    .pricing-list {
      list-style: none;
      padding: 0;
      margin: 0;
      flex-grow: 1;
    }
    
    .pricing-list li {
      background: #f8f9fa;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
    }
    
    .price {
      background-color: #ffc107;
      color: #212529;
      padding: 0.3rem 0.7rem;
      border-radius: 30px;
      font-weight: bold;
      margin-right: 0.5rem;
    }
    
    .service-desc {
      display: block;
      margin-top: 0.5rem;
      color: #555;
      font-size: 0.9rem;
      line-height: 1.4;
    }
    
    .travel-fee-note {
      display: block;
      margin-top: 0.5rem;
      font-size: 0.8rem;
      color: #e63946;
      font-style: italic;
    }
    
    /* Video Section - Larger Size */
    .video-section {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
      background: #000;
    }
    
    .video-wrapper {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .video-wrapper iframe {
      width: 100%;
      height: 300px;
      border: none;
      border-radius: 8px;
    }
    
    /* Mileage Calculator */
    .mileage-calculator {
      display: flex;
      flex-direction: column;
    }
    
    .mileage-calculator h3 {
      margin-top: 0;
      color: #212529;
      font-size: 1.3rem;
      text-align: center;
    }
    
    .calculator-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      flex-grow: 1;
    }
    
    .calculator-form label {
      font-weight: 600;
      color: #333;
      display: block;
      margin-bottom: 0.3rem;
    }
    
    .calculator-form input {
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 1rem;
      width: 100%;
      box-sizing: border-box;
    }
    
    .calculator-form button {
      background-color: #212529;
      color: #ffc107;
      padding: 0.8rem;
      border-radius: 6px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: 0.3s;
      width: 100%;
    }
    
    .calculator-form button:hover {
      background-color: #343a40;
    }
    
    .distance-result {
      background-color: #f8f9fa;
      padding: 1rem;
      border-left: 4px solid #ffc107;
      border-radius: 6px;
      margin-top: 0.5rem;
    }
    
    .distance-result.hidden {
      display: none;
    }
    
    .result-row {
      display: flex;
      justify-content: space-between;
      padding: 0.3rem 0;
      align-items: center;
      font-size: 0.95rem;
    }
    
    .total-fee {
      border-top: 1px solid #ccc;
      padding-top: 0.8rem;
      font-weight: bold;
    }
    
    /* Navigation Links */
    .bottom-nav-links {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 1.5rem 0 0;
      padding: 0;
      list-style: none;
      flex-wrap: wrap;
    }
    
    .bottom-nav-links a {
      background-color: #212529;
      color: #ffc107;
      padding: 0.7rem 1.5rem;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      transition: 0.3s;
    }
    
    .bottom-nav-links a:hover {
      background-color: #343a40;
    }
    
    /* =================== */
    /* MOBILE MENU STYLES */
    /* =================== */
    .mobile-menu-btn {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #212529;
      color: #ffc107;
      padding: 12px 20px;
      border-radius: 30px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      z-index: 1001;
      cursor: pointer;
      align-items: center;
      gap: 10px;
    }
    
    .mobile-menu-btn i {
      font-size: 1.2rem;
    }
    
    .mobile-menu {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background-color: #212529;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      z-index: 1000;
      width: 250px;
      display: none;
      flex-direction: column;
      padding: 1rem 0;
      transform: translateY(20px);
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .mobile-menu.active {
      display: flex;
      transform: translateY(0);
      opacity: 1;
    }
    
    .mobile-menu a {
      color: #ffc107;
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      transition: background-color 0.3s;
    }
    
    .mobile-menu a:hover {
      background-color: #343a40;
    }
    
    /* =================== */
    /* RESPONSIVE ADJUSTMENTS */
    /* =================== */
    @media (max-width: 1024px) {
      .main-content-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
      }
      
      .video-wrapper iframe {
        height: 400px;
      }
      
      body {
        overflow-y: auto;
        height: auto;
      }
      
      .container {
        height: auto;
      }
    }
    
    @media (max-width: 768px) {
      .desktop-nav {
        display: none;
      }
      
      .mobile-menu-btn {
        display: flex;
      }
      
      .header-title {
        font-size: 2.5rem;
      }
      
      .video-wrapper iframe {
        height: 300px;
      }
    }
    
    @media (max-width: 480px) {
      .header-title {
        font-size: 2rem;
      }
      
      .header-logo {
        width: 50px;
        height: 50px;
      }
      
      .video-wrapper iframe {
        height: 200px;
      }
      
      .bottom-nav-links a {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>

  <!-- Navigation Header (Desktop) - Original Version -->
  <nav class="desktop-nav">
    <div class="nav-container">
      <div class="nav-brand">
        <img src="MagicEraser_250327_111940.png" alt="Crowned Mobile Logo" class="nav-logo">
        <span>Crowned Mobile</span>
      </div>
      <div class="nav-links">
        <a href="index.html"><i class="fas fa-home"></i> Home</a>
        <a href="appointment.html"><i class="fas fa-calendar-alt"></i> Book Now</a>
        <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
        <a href="subscription.html"><i class="fas fa-star"></i> Subscribe</a>
        <a href="tel:9377281622"><i class="fas fa-phone-alt"></i> (937) 728-1622</a>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu Button -->
  <div class="mobile-menu-btn">
    <i class="fas fa-bars"></i>
    <span>Menu</span>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu">
    <a href="index.html"><i class="fas fa-home"></i> Home</a>
    <a href="appointment.html"><i class="fas fa-calendar-alt"></i> Book Now</a>
    <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
    <a href="subscription.html"><i class="fas fa-star"></i> Subscribe</a>
    <a href="tel:9377281622"><i class="fas fa-phone-alt"></i> Call Us</a>
  </div>

  <!-- Header -->
  <div class="header-container">
    <img src="MagicEraser_250327_111940.png" alt="Crowned Mobile Logo" class="header-logo">
    <Header class="header-title">Crowned Mobile</Header>
  </div>

  <!-- Subtitle -->
  <div class="subtitle-container">
    <p class="subtitle">Mobile Automotive Detailing Service</p>
    <p class="established">EST. 2025</p>
  </div>

  <!-- Description -->
  <div class="container">
    <p class="centered-description">
      Welcome to Crowned Mobile, your premier mobile automotive detailing service. We bring the shine directly to you, using only the highest quality products and techniques to make your vehicle look its absolute best.
    </p>

    <!-- Contact Info -->
    <div class="contact-info-box">
      <a href="tel:9377281622" class="phone-link">
        <i class="fas fa-phone-alt"></i> Call Now: (937) 728-1622
      </a>
    </div>

    <!-- Main Content Grid -->
    <div class="main-content-grid">
      <!-- Pricing Section -->
      <div class="content-box pricing-section">
        <div id="app">
          <div class="pricing-toggle">
            <button :class="{ active: selected === 'sedan' }" @click="selected = 'sedan'">Sedan</button>
            <button :class="{ active: selected === 'truck' }" @click="selected = 'truck'">Truck/SUV</button>
          </div>

          <ul class="pricing-list">
            <li v-for="item in currentPricing" :key="item.package">
              <span class="price">${{ item.price }}</span> - {{ item.package }}
              <span class="service-desc">{{ item.description }}</span>
              <span class="travel-fee-note">*Travel fee not included - Please use the calculator provided</span>
            </li>
          </ul>
        </div>
      </div>

      <!-- Video Section - Larger Size -->
      <div class="content-box video-section">
        <div class="video-wrapper">
          <iframe width="560" height="315" src="https://www.youtube.com/embed/xnOSd7j5Cn4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>

      <!-- Mileage Calculator -->
      <div class="content-box mileage-calculator">
        <h3><i class="fas fa-map-marker-alt"></i> Distance Calculator</h3>
        <div class="calculator-form">
          <label for="zipcode">Your Zip Code:</label>
          <input type="text" id="zipcode" placeholder="Enter your zip code" maxlength="5" pattern="\d{5}" />
          <button id="calculateBtn"><i class="fas fa-calculator"></i> Calculate Fee</button>
          <div id="distanceResult" class="distance-result hidden">
            <div class="result-row">
              <span>Distance from 45177:</span>
              <strong><span id="miles">0</span> miles</strong>
            </div>
            <div class="result-row">
              <span>Free Miles Included:</span>
              <strong>15 miles</strong>
            </div>
            <div class="result-row">
              <span>Chargeable Miles:</span>
              <strong><span id="excessMiles">0</span> miles × $0.70/mile</strong>
            </div>
            <div class="result-row total-fee">
              <span>Travel Fee:</span>
              <strong>$<span id="travelFee">0.00</span></strong>
            </div>
            <button id="applyToAppointment" class="apply-btn">
              <i class="fas fa-calendar-plus"></i> Apply to Appointment
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <ul class="bottom-nav-links">
      <li><a href="contact.html">Contact Us</a></li>
      <li><a href="subscription.html">Subscription Service</a></li>
      <li><a href="links.html">Helpful Links</a></li>
    </ul>
  </div>

  <script>
    new Vue({
      el: '#app',
      data: {
        selected: 'sedan',
        sedanPricing: [
          {
            package: 'Standard Package',
            price: '145',
            description: 'Includes vacuum, wipe down, carpet agitation, and seat scrub'
          },
          {
            package: 'Golden Package',
            price: '175',
            description: 'Includes vacuum, wipe down, carpet agitation, seat scrub, windows and mirrors, shampoo, and steam clean'
          }
        ],
        truckPricing: [
          {
            package: 'Standard Package',
            price: '185',
            description: 'Includes vacuum, wipe down, carpet agitation, and seat scrub'
          },
          {
            package: 'Golden Package',
            price: '220',
            description: 'Includes vacuum, wipe down, carpet agitation, seat scrub, windows and mirrors, shampoo, and steam clean'
          }
        ]
      },
      computed: {
        currentPricing() {
          return this.selected === 'sedan' ? this.sedanPricing : this.truckPricing;
        }
      }
    });

    document.addEventListener('DOMContentLoaded', function () {
      const API_KEY = 'Q7ITe5MB0a4STWkyy8GUQ3nvv5leH3TjZAqL0dfJaSeT1U9ap7TA35bw1KqUGrFS';
      const BASE_ZIP = '45177';
      const calculateBtn = document.getElementById('calculateBtn');

      function calculateCost(distance) {
        const excessMiles = Math.max(0, distance - 15);
        return (excessMiles * 0.7).toFixed(2);
      }

      function updateUI(distance, cost) {
        document.getElementById('miles').textContent = distance.toFixed(1);
        document.getElementById('excessMiles').textContent = Math.max(0, distance - 15).toFixed(1);
        document.getElementById('travelFee').textContent = cost;
        document.getElementById('distanceResult').classList.remove('hidden');
      }

      async function fetchDistance(zipcode) {
        const apiUrl = `https://www.zipcodeapi.com/rest/${API_KEY}/distance.json/${BASE_ZIP}/${zipcode}/mile`;
        const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(apiUrl)}`;

        const response = await fetch(proxyUrl);
        if (!response.ok) throw new Error('Failed to fetch');
        return response.json();
      }

      calculateBtn.addEventListener('click', async () => {
        const zip = document.getElementById('zipcode').value.trim();
        if (!/^\d{5}$/.test(zip)) {
          alert('Enter a valid 5-digit zip code.');
          return;
        }

        calculateBtn.disabled = true;
        calculateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Calculating...';

        try {
          const result = await fetchDistance(zip);
          const cost = calculateCost(result.distance);
          updateUI(result.distance, cost);
        } catch (err) {
          alert('Failed to calculate distance. Please try again later.');
          console.error(err);
        } finally {
          calculateBtn.disabled = false;
          calculateBtn.innerHTML = '<i class="fas fa-calculator"></i> Calculate Fee';
        }
      });

      const applyBtn = document.getElementById('applyToAppointment');
      if (applyBtn) {
        applyBtn.addEventListener('click', () => {
          const fee = document.getElementById('travelFee').textContent;
          localStorage.setItem('travelFee', fee);
          window.location.href = 'appointment.html';
        });
      }

      // Mobile menu toggle
      const menuBtn = document.querySelector('.mobile-menu-btn');
      const mobileMenu = document.querySelector('.mobile-menu');
      
      if (menuBtn && mobileMenu) {
        menuBtn.addEventListener('click', function(e) {
          e.stopPropagation();
          mobileMenu.classList.toggle('active');
          menuBtn.classList.toggle('active');
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
          if (!menuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
            mobileMenu.classList.remove('active');
            menuBtn.classList.remove('active');
          }
        });
      }
    });
  </script>
</body>
</html>